# 计算机网络
## 1.计算机网络概述
### 计算机网络的作用
- 计算机网络是信息服务基础设施
- 生活中不可或缺（数据参考CNNIC《中国互联网发展研究报告》）
### 因特网
- **网络、互联网、因特网的基本概念**
- 因特网的发展
- 因特网标准化工作
### 交换方式
- 电路交换
- 报文交换
- **分组交换**
### 计算机网络定义和分类
- 定义
  - 计算机网络的简单定义：互联、自治、计算机集合
  - 没有精确统一的定义；不同阶段定义不同，反映当时网络技术发展水平
- **分类**
  - 按交换技术分类：电路交换网、分组交换网、报文交换网
  - 按使用者分类：公用网、专用网
  - 按传输介质分类：有线网、无线网
  - 按覆盖范围分类：广域网WAN、城域网MAN、局域网LAN、个域网PAN
  - 按拓扑结构分类：总线型网络、星型网络、环形网络、网状型网络等
### 性能指标
- 速率
- **带宽**
- 吞吐量
- **时延**
- 时延宽带积
- 往返时间RTT
- **利用率**
- 丢包率
### 体系结构
- **常见计算机体系结构**
  - OSI（七层）
  - TCP/IP（四层）
  - 原理体系结构（五层）
- **分层的必要性**
- **分层思想**
- **专用术语**
## 2.物理层
### 物理层基本概念
- **★物理层所要解决的问题**：
  - 连接各种计算机的传输媒体上传输数据比特流
  - 为数据链路层屏蔽各种传输媒体的差异，使数据链路层只需要考虑如何完成本层协议和服务，而不必考虑网络具体的传输媒体类型
- **★物理层协议主要任务**：
  - 机械特性：指明接口所用接线器的形状和尺寸、引脚数目和排列、固定和锁定装置
  - 电气特性：指明在接口电缆的各条线上出现的范围
  - 功能特性：指明某条线上出现的某一电平的电压表示何种意义
  - 过程特性：指明对于不同功能的各种可能事件的出现顺序
### 物理层下面的传输媒体
- 导引型
  - 同轴电缆：价格贵且布线不灵活和方便，随着集线器出现，在局域网领域基本上都是采用双绞线作为传输媒体
  - *☆双绞线：抵御部分外界电磁干扰；减少相邻导线电磁干扰（家用以太网最低选择超5类），屏蔽双绞线比非屏蔽双绞线具有更好的抗干扰性能（价格更贵）*
  - *☆光纤（多模/单模）：通信容量大，传输损耗小，远距离传输时更加经济，抗雷点和电磁干扰性能好，无串音干扰，保密性好不宜被窃听，体积小重量轻；切割光纤需要专业设备，价格贵*
  - 电力线
- 非导引型
  - 无线电波
  - *☆微波：直线传播，可以穿透电离层；地面100米发生塔，最大视距LOS传输；距离为100公里；地球同步卫星；低轨道卫星*
  - 红外线
  - 可见光
### 传输方式
- **★串行传输和并行传输**
  - 串行传输：比特依次进行传输，适合远距离传输，计算机网络采用此传输
  - 并行传输：多个比特同时在多根传输线上传输，不适合远距离传输，成本高，计算机内部采用此传输
- **★同步传输和异步传输**
  - 同步传输：比特依次传输没有间隔，各比特持续时长相等，需要收发双方时间同步
    - 外同步：收发双发之间添加一条单独的时钟信号线
    - 内同步：发送端将时钟同步信号编码发送数据中一起传输（例如曼彻斯特编码）
  - 异步传输：以字节位单位进行传输，字节之间间隔不固定，但每个字节的比特持续时长相等（字节间异步，比特间同步），需要每个字节添加起始位和结束位
- 单向通信、双向交替通信、双向同时通信
  - 单向通信（单工）：比如广播
  - 双向交替通信（双半工）：双向交替通信（不能同时），如对讲机
  - 双向同时通信（双工）：双向同时通信，如电话
### 编码与调制
- 常用术语
  - 消息：需要计算机处理的文字、图片、音频以及视频等统称为消息
  - 数据：运送消息的实体，计算机智能处理二进制数据
  - 信号：数据的电磁表现；来自信源的原始电信号称为基带信号
    - 数字基带信号：如计算机内部，CPU与内存之间所传输的信号
    - 模拟基带信号：如麦克风采集到声音后所产生的音频信号
- **★编码**
  - 数字信号转换为另一种数字信号，在数字信道中传输（如以太网使用曼彻斯特编码4B/5B\8B/10B等编码）
  - 模拟信号转换为数字信号，在数字信道中传输（如音频信号进行编码的脉码调制PCM）
  - 常用编码
    - 不归零编码：在整个码元时间内不会出现零电平；存在同步问题，需要额外一根传输线来传输时钟信号，使发送方和接收方同步；对于计算机网络，宁愿利用这根传输线传输数据信号，而不是传输时钟信号
    - 归零编码：在每个码元传输结束后信号都要“归零”，所以接收方只要在信号归零后进行采样即可，不需要单独的时钟信号；实际上，归零编码相当于把时钟信号用“归零”方式编码在了数据之内，这种称为“自同步”信号；但归零编码中大部分数据带宽都用来传输“归零”而浪费
    - 曼彻斯特编码：在码元中间时刻发生电平跳变，即表示时钟，也表示数据；正跳变表示1或0，负跳变表示0或1可自行定义；传统以太网（10Mb/s）使用该编码
    - 差分曼彻斯特编码：在码元中间时刻发生跳变，跳变仅表示时钟；码元开始处电平是否发生变化表示数据；比曼彻斯特编码变化少，更适合较高传输速率
- **★调制**
  - 数字型号转换为模拟信号，在模拟信道中传输（如WIFI采用补码键控CCK/直接序列扩频OSSS/正交频分复用OFDM等调制方式）
  - 模拟信号转换为另一种模拟信号，在模拟信道中传输（如语音数据加载到模拟的载波信号中传输；频分复用FDM技术，充分利用带宽资源）
  - 基本调制（二元制）
    - 调幅AM：由两种不同振幅的基本波形构成；每个基本波形只能表示1比特的信息量
    - 调频FM：由两种不同频率的基本波形构成；每个基本波形只能表示1比特的信息量
    - 调相PM：由两种不同频率的基本初相位构成；每个基本波形只能表示1比特的信息量
  - 混合调制（多元制）
    - 如将相位与振幅进行混合调制的正交振幅调制QAM
    - QAM16可以调制出12种相位，每种相位有1或2中振幅可选
    - 可以调制出16种基本波形，每种波形可以表示4个比特
- **★码元**
  - 在使用时间域的波形表示数字信号时，代表不同离散数值的基本波形
  - 码元是一段调制好的基本波形，可以表示比特信息
### 信道的极限容量**
- 信号失真的因素
  - 码元传输速率
  - 信号传输距离
  - 噪声干扰
  - 传输媒体质量
- **★奈式准则**：在假定的理想条件下，为了避免码间串扰，码元传输速率是有上限的
  - 理想低通信道的最高码元传输速率= 2W Baud = 2W 码元/秒，W指信道带宽（单位为Hz）
  - 理想带通信道的最高码元传输速率= W Baud = W 码元/秒，W指信道带宽（单位为Hz）
  - 波特率和比特率的关系：
    - 码元传输速率又称波特率、调制速率、波形速率或符号速率，与波特率有一定关系；
    - 当1个码元只携带1比特的信息量时，波特率（码元/秒）与比特率（比特/秒）在数值上是相等的；
    - 当1个码元携带n比特的信息量时，则波特率转换成比特率时，数值要乘以n
  - 注意事项
    - 实际的信道所能传输的最高码元速率，要明显低于奈式准则给出的上限值，实际信道还会受到其它很多因素干扰（如噪声干扰、信号衰减、传输媒体质量等）
    - 要提高信息传输速率（比特率），就必须设法使每一个码元能携带更多个比特的信息量，这需要采用多元制
    - 并不是无限制提高每个码元所携带的比特数量，就可以无限制地提高信息传输速率，因为信道的极限信息传输速率还要受限于实际的信号在信道中传输时的信噪比
- **★香农公式**：带宽受限且高斯白噪声干扰的信道的极限信息传输速率
  - 信道的极限信息传输速率
    - $C = W * \log_2(1 + S/N)$
    - C：信道的极限信息传输速率（单位为b/s）
    - W：信道贷款（单位为Hz）
    - S：信道内所传输信号的平均功率
    - N：信道内的高斯噪声功率
    - S/N：信噪比，使用分贝(dB)作为度量单位
  - 注意事项
    - 在实际信道上能够达到的信号传输速率要比该公式的极限传输速率低不少，这是因为在实际信道中，信号还要接收到其它一些损伤，如各种脉冲干扰，信号在传输中的衰减和失真等，这些因素在香农公式中并未考虑
    - 信道带宽或者信道中信噪比越大，信息的极限速率传输越高
- **★奈式准则和香农公式的意义**
  - 在信道带宽一定的情况下，根据奈式准则和香农公式，要想提高信息的传输速率就必须采用多元制（更好的调制方法）和努力提高信道中的信噪比
  - 自从香农公式发表后，各种新的信号处理和调制方法就不断出现，其目的都是为了尽可能地接近香农公式给出的传输速率极限
## 3.数据链路层
## 4.网络层
## 5.运输层
## 6.应用层
